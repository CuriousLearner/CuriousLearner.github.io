<div>
  <h3 class="blue section-heading">Contact</h3>
  <div class="row mail-info center-align">
    <p>You can drop a mail to <br><span class="wrap-mail"><a href="mailto:sanyam@sanyamkhurana.com">Sanyam[AT]SanyamKhurana[DOT]com</a></span></p>
  </div>
  <div class="row">
    <p>You can also reach me by simply filling the form below.</p>
    <small>All fields are necessary</small>
    <form id="contact-form" class="contact-form col s12">
      <input type="hidden" name="access_key" value="027f0ba4-07fc-44d0-8834-9ed5c5c2a923">
      <input type="hidden" name="subject" value="New Contact Form Submission from SanyamKhurana.com">
      <div class="row">
        <div class="input-field col s5 offset-s1">
          <input id="first_name" type="text" name="first_name" class="validate" required>
          <label for="first_name">First Name</label>
        </div>
        <div class="input-field col s5">
          <input id="last_name" type="text" name="last_name" class="validate" required>
          <label for="last_name">Last Name</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s10 offset-s1">
          <input id="email" type="email" name="email" class="validate" required>
          <label for="email">Email</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s10 offset-s1">
          <textarea id="message" class="materialize-textarea validate" name="message" maxlength="500" required></textarea>
          <label for="message">Message</label>
        </div>
      </div>
      <br>
      <div id="form-result" class="form-result" style="display:none; margin-bottom: 15px;"></div>
      <button class="btn waves-effect waves-light" type="submit" name="action" id="submit-btn">Submit
        <i class="zmdi zmdi-mail-send zmdi-hc-2x"></i>
      </button>
    </form>
    <script>
      document.getElementById('contact-form').addEventListener('submit', function(e) {
        e.preventDefault();
        var form = this;
        var resultDiv = document.getElementById('form-result');
        var submitBtn = document.getElementById('submit-btn');

        submitBtn.disabled = true;
        submitBtn.innerHTML = 'Sending... <i class="zmdi zmdi-spinner zmdi-hc-spin zmdi-hc-2x"></i>';
        resultDiv.style.display = 'none';

        var formData = new FormData(form);

        fetch('https://api.web3forms.com/submit', {
          method: 'POST',
          body: formData
        })
        .then(function(response) { return response.json(); })
        .then(function(data) {
          if (data.success) {
            resultDiv.className = 'form-result success';
            resultDiv.innerHTML = 'Thank you! Your message has been sent successfully.';
            form.reset();
          } else {
            resultDiv.className = 'form-result error';
            resultDiv.innerHTML = 'Oops! Something went wrong. Please try again.';
          }
          resultDiv.style.display = 'block';
          submitBtn.disabled = false;
          submitBtn.innerHTML = 'Submit <i class="zmdi zmdi-mail-send zmdi-hc-2x"></i>';
        })
        .catch(function(error) {
          resultDiv.className = 'form-result error';
          resultDiv.innerHTML = 'Oops! Something went wrong. Please try again.';
          resultDiv.style.display = 'block';
          submitBtn.disabled = false;
          submitBtn.innerHTML = 'Submit <i class="zmdi zmdi-mail-send zmdi-hc-2x"></i>';
        });
      });
    </script>
  </div>
</div>
